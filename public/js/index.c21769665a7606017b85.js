!function(e){function t(t){for(var r,a,i=t[0],l=t[1],s=t[2],f=0,p=[];f<i.length;f++)a=i[f],o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(c&&c(t);p.length;)p.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(r=!1)}r&&(u.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={1:0},u=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=l;u.push([241,0]),n()}([,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isLoaded=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"preload",value:function(){return Promise.resolve({})}},{key:"componentWillMount",value:function(){var e=this;this._isLoaded=!1,this.preload().then(function(t){e._isLoaded=!0,e._saveState(t)})}},{key:"render",value:function(){return this._isLoaded?this.getTemplate():u.default.createElement("div",{style:{display:"block",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},"Loading...")}},{key:"_saveState",value:function(e){this.setState(e)}}]),t}();t.default=a},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(21)),u=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_parse",value:function(e){var t=this;this.head=e.head,this.body=e.body.map(function(e){return t._parseRow(e)})}},{key:"getCellByKey",value:function(e,t){var n=this.body.find(function(e){return e.id===t});return n&&n.cells.find(function(t){return t.key===e})||null}},{key:"_parseRow",value:function(e){return{id:e.id,cells:u.default.fromDataArray(e.cells),url:e.url,filterId:e.filterId}}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._parse(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=c(o),a=n(12),i=c(n(94)),l=c(n(23)),s=c(n(93));function c(e){return e&&e.__esModule?e:{default:e}}n(250);var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.KEY_CONTROLS="Controls";var r=n._parseTable(e.table);return n.state=r,n.state.getCellByKey=r.getCellByKey,n.state.popupVisible=!1,n.state.showAddBtn=void 0===n.props.showAddBtn||n.props.showAddBtn,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.table.body.map(function(e){return e.cells.find(function(e){return e.key===t.KEY_CONTROLS})?e:t._parseRow(e)});this.setState({body:n})}},{key:"render",value:function(){var e=this,t=this.state;return u.default.createElement("div",null,u.default.createElement("table",{className:"table"},u.default.createElement("tbody",null,u.default.createElement("tr",{className:"table__head table__row"},t.head.map(function(e,t){return u.default.createElement("th",{key:t,className:"table__cell table__cell-in-head"},e)})),t.body.map(function(n,r){return u.default.createElement("tr",{key:r,className:"table__body-row table__row"},t.head.map(function(r,o){var a=t.getCellByKey(r,n.id),i=a.component;return u.default.createElement("td",{key:o,className:"table__cell"},a.component?u.default.createElement(i,{contentEditable:!!a.editable,onInput:function(t){return e._onInput(t,a)}},a.value):a.value)}))}))),this.state.showAddBtn?u.default.createElement(l.default,{className:"table__btn btn_full-width",onClick:function(){return e._onAddNew()}},"Add new"):null,u.default.createElement(l.default,{className:"table__btn",onClick:function(){return e._onSave()}},"Save Changes"),u.default.createElement(s.default,{title:"Add new item",isVisible:this.state.popupVisible,onSend:this._onSend.bind(this),onClose:function(){return e._onPopupClose()},getCustomKeyProp:this._getCustomKeyProp.bind(this),form:this.props.customForm||this._generateForm(this._getKeysWithoutControls())}))}},{key:"_getKeysWithoutControls",value:function(){var e=this;return this.state.head.filter(function(t){return t!==e.KEY_CONTROLS}).map(function(e){return e.toLowerCase()})}},{key:"_generateForm",value:function(e){var t=this,n={action:"Send",inputs:[]};return n.inputs=e.map(function(e){return{name:e,export:!0,valid:!1,placeholder:"Type the "+(e.includes(".")?t._getCustomKeyProp(e).prop:e).toLowerCase()+" here",type:"text",value:"",validation:{required:!0,pattern:["[\\S]{1,}","i"]},message:"",error:"The "+e+" can't be empty"}}),n}},{key:"_parseTable",value:function(e){var t=this;return e.head.push(this.KEY_CONTROLS),e.body.map(function(e){return t._parseRow(e)}),e}},{key:"_getConrols",value:function(e){var t=this,n={};return n.key=this.KEY_CONTROLS,n.component=function(n){return u.default.createElement("div",{className:"table__controls"},e.url?u.default.createElement(a.Link,{to:e.url,className:"table__control icon-eye"}):null,u.default.createElement("button",{className:"table__control icon-cancel",onClick:function(){return t._deleteRow(e.id)}}))},new i.default(n)}},{key:"_deleteRow",value:function(e){var t=this;return this.props.onRowDelete(e).then(function(){var n=t.state.body;n=n.filter(function(t){return t.id!==e}),t.setState({body:n})})}},{key:"_onPopupClose",value:function(){this.setState({popupVisible:!1})}},{key:"_onInput",value:function(e,t){t.value=e.target.textContent,t.changed=t.value!==t.initValue}},{key:"_onAddNew",value:function(){return this.setState({popupVisible:!0}),Promise.resolve()}},{key:"_onSend",value:function(e){var t=this;return this.props.onAdd(e).then(function(e){var n=t.state.body;return e.forEach(function(e){return n.push(t._parseRow(e))}),t.setState({body:n,popupVisible:!1}),Promise.resolve()})}},{key:"_onSave",value:function(){var e=this,t={};return this.state.body.forEach(function(n){var r={};n.cells.forEach(function(t){if(t.changed)if(t.name.includes(".")){var o=e._getCustomKeyProp(t.name).key;r[o]={},n.cells.forEach(function(t){if(t.name&&t.name.includes(o+".")){var n=e._getCustomKeyProp(t.name).prop;r[o][n]=t.value}})}else r[t.name]=t.value}),Object.keys(r).length&&(t[n.id]=r)}),Object.keys(t).length?this.props.onSave(t):Promise.reject()}},{key:"_parseRow",value:function(e){return e.cells=i.default.fromDataArray(e.cells),e.cells.push(this._getConrols(e)),e}},{key:"_getCustomKeyProp",value:function(e){var t=e.split(".");return{key:t[0],prop:t[1]}}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o);n(262);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.state.status="number"==typeof e.status?e.status:t.Status.ACTIVE,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){"number"==typeof e.status&&this.setState({status:e.status})}},{key:"render",value:function(){var e=this;return u.default.createElement("button",{type:this.props.type||"button",style:this.props.style||{},className:"btn "+(this.props.className||"")+" "+t.Classes[this.state.status],onClick:function(){return e._onClick()}},this.props.children||null)}},{key:"_onClick",value:function(){var e=this;if(this.props.onClick){var n=t.Status.ACTIVE;this.state.status===n&&(this.setState({status:t.Classes.WAITING}),this.props.onClick().finally(function(){return e.setState({status:n})}))}}}]),t}();a.Status={DISABLED:0,ACTIVE:1,WAITING:2,SELECTED:3},a.Classes={0:"btn_disabled",1:"btn_active",2:"icon-spin btn_loading",3:"btn_selected"},t.default=a},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(89));var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.MODEL=e.model,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"getByIds",value:function(e){var t=this;return e.length?this._network.request(this.PATH+"/"+e.join(",")).then(function(e){return e.map(function(e){return new t.MODEL(e)})}):Promise.resolve([])}},{key:"create",value:function(e){var t=this;return this._network.request(this.PATH+"/",e,"POST").then(function(e){return e.map(function(e){return new t.MODEL(e)})})}},{key:"read",value:function(){var e=this;return this._network.request(this.PATH+"/").then(function(t){return t.map(function(t){return new e.MODEL(t)})})}},{key:"update",value:function(e){var t=this,n=Object.keys(e);return this._network.request(this.PATH+"/"+n.join(","),e,"PATCH").then(function(e){return e.map(function(e){return new t.MODEL(e)})})}},{key:"delete",value:function(e){var t=this;return this._network.request(this.PATH+"/"+e.join(","),void 0,"DELETE").then(function(e){return e.map(function(e){return new t.MODEL(e)})})}}]),t}();t.default=u},,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(21));var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_parse",value:function(e){this._id=e._id,this.name=e.name,this.ingredients=this._parseIngredients(e.ingredients),this.price=e.price}},{key:"_parseIngredients",value:function(e){return e.map(function(e){return{id:e.id,count:e.count}})}}]),t}();t.default=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.PATH="/api"+e.path,n._network=e.network,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.EventEmitter),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(21));var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_parse",value:function(e){this._id=e._id,this.name=e.name,this.group=e.group,this.supplier=e.supplier,this.parameters=e.parameters,this.primecost=e.primecost}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=i(o),a=i(n(23));function i(e){return e&&e.__esModule?e:{default:e}}n(248);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.state.found=[],n.state.value="",n.state.activeItem=null,n.state.btnStatus=a.default.Status.DISABLED,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this;return u.default.createElement("form",{className:"form autocomplete "+(this.state.found.length?"autocomplete_found":""),onSubmit:function(t){return e._onSubmit(t,e.state.activeItem)}},u.default.createElement("input",{className:"form__input",type:"text",autoComplete:"off",onChange:function(t){return e._onInput(t)},value:this.state.value}),u.default.createElement(a.default,{type:"submit",className:"autocomplete__btn",status:this.state.btnStatus},"Add"),u.default.createElement("div",{className:"autocomplete__result"},this.state.found.map(function(t,n){return u.default.createElement("p",{key:n,className:"autocomplete__result-item",onClick:function(){return e._onPick(t)}},t.name)})))}},{key:"_onInput",value:function(e){var t=this,n=a.default.Status.DISABLED,r=e.target.value,o=r.length?this.props.source.filter(function(e){var n=e.name.toLowerCase(),o=r.toLowerCase(),u=n.includes(o),a=t.props.ignore.includes(e._id);return u&&!a}):[];this.setState({found:o,value:r,activeItem:null,btnStatus:n})}},{key:"_onPick",value:function(e){var t=e.name,n=e,r=a.default.Status.ACTIVE;this.setState({found:[],value:t,activeItem:n,btnStatus:r})}},{key:"_onSubmit",value:function(e,t){var n=this;return e.preventDefault(),t?this.props.onAdd(t).then(function(){var e=a.default.Status.DISABLED;return n.setState({found:[],value:"",activeItem:null,btnStatus:e}),Promise.resolve()}):Promise.resolve()}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=i(o),a=i(n(23));function i(e){return e&&e.__esModule?e:{default:e}}n(254);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.props=e,n.state=e.form,n.state.status=t.Status.INVALID,n.state.errors=[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this;return u.default.createElement("form",{className:"form form_clearfix",onSubmit:this._onSubmit.bind(this)},u.default.createElement("div",{className:"form__error"},this.state.errors.map(function(e,t){return e&&e.length?u.default.createElement("p",{key:t,className:"form__error-message"},e):null})),this.state.inputs.map(function(t,n){return u.default.createElement("input",{key:n,className:"form__input",type:t.type,placeholder:t.placeholder,autoComplete:"off",onChange:function(t){return e._onInputChange(t,n)},onBlur:function(t){return e._onInputChange(t,n)}})}),u.default.createElement(a.default,{type:"submit",className:"form__btn",status:this.state.status},this.state.action))}},{key:"_onSubmit",value:function(e){var n=this;e.preventDefault(),this.state.inputs.forEach(function(e){return n._validateInput(e)}),this._updateFormStatus(),this._canSubmit()&&(this.setState({status:t.Status.WAITING}),this.props.onSubmit(this._getFormData()).then(function(){n.setState({status:t.Status.VALID})},function(e){n.setState({status:t.Status.INVALID,errors:[e]})}))}},{key:"_getFormData",value:function(){var e={};return this.state.inputs.forEach(function(t){t.export&&("file"===t.type?e[t.name]=t.files[0]:e[t.name]=t.value)}),e}},{key:"_canSubmit",value:function(){return this.state.status===t.Status.VALID}},{key:"_onInputChange",value:function(e,t){var n=e.target,r=n.value,o=n.files,u=this.state.inputs[t];u.value=r,u.files=o,this._validateInput(u),this._updateFormStatus()}},{key:"_validateInput",value:function(e){var t=e.validation,n=t.pattern,r=t.equals;if(e.validation.required){if(n&&n.length){var o=new(Function.prototype.bind.apply(RegExp,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))));e.valid=o.test(e.value),e.message=e.valid?"":e.error}if("number"==typeof r){var u=this.state.inputs[r];e.valid=u.value===e.value,e.message=e.valid?"":e.error}}else e.valid=!0,e.message=""}},{key:"_updateFormStatus",value:function(){var e=t.Status,n=e.INVALID,r=e.VALID,o=this.state.inputs.reduce(function(e,t){return e&&t.valid},!0),u=this.state.inputs.map(function(e){return e.message}).filter(function(e){return e.length});this.setState({status:o?r:n,errors:u})}}]),t}();l.Status={INVALID:0,VALID:1,WAITING:2},l.BtnClasses={0:"form__btn_disabled",1:"",2:"icon-spin form__btn_loading"},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=i(o),a=i(n(92));function i(e){return e&&e.__esModule?e:{default:e}}n(252);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.state.title=n.props.title,n.state.isVisible=n.props.isVisible,n.state.form=n.props.form,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isVisible:e.isVisible})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"popup "+(this.state.isVisible?"popup_visible":"")},u.default.createElement("button",{className:"icon-cancel popup__close",onClick:function(){return e._close()}}),u.default.createElement("div",{className:"popup__wrap"},u.default.createElement("div",{className:"popup__content"},u.default.createElement("h3",null,this.state.title),u.default.createElement(a.default,{form:this.state.form,onSubmit:function(t){return e._onSend(t)}}))))}},{key:"_close",value:function(){this.props.onClose()}},{key:"_onSend",value:function(e){var t={};for(var n in e)if(n.includes(".")){var r=this.props.getCustomKeyProp(n),o=r.key,u=r.prop;o in t||(t[o]={}),t[o][u]=e[n]}else t[n]=e[n];return this.props.onSend(t)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(21));var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_parse",value:function(e){this.id=e.id,this.key=e.key,this.name=e.name,this.value=e.value,this.component=e.component,this.initValue=e.initValue,this.editable=e.editable,this.changed=e.changed}}],[{key:"fromData",value:function(e){return new t(e)}},{key:"fromDataArray",value:function(e){return e.map(function(e){return t.fromData(e)})}}]),t}();t.default=u},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.VAR_KEY="$",this.PRODUCT_KEY="product__",this.INGREDIENT_KEY="ingredient__",this._productApi=t.productApi,this._ingredientApi=t.ingredientApi}return r(e,[{key:"getProductKey",value:function(e){return""+this.VAR_KEY+this.PRODUCT_KEY+e}},{key:"getIngredientKey",value:function(e){return""+this.VAR_KEY+this.INGREDIENT_KEY+e}},{key:"getProductTotalById",value:function(e){var t=this;return this._productApi.getByIds([e]).then(function(e){if(!e||!e.length)return Promise.reject();var n=e[0],r=n.ingredients.map(function(e){return e.id});return r.length?t._ingredientApi.getByIds(r).then(function(e){var r=n.ingredients;return n.ingredients=e.map(function(e){var t=r.find(function(t){return t.id===e._id});return e.count=parseFloat(t.count),e}),t._calcTotal(n)}):Promise.resolve({product:n,ingredients:[]})})}},{key:"_calcTotal",value:function(e){var t=this,n=e.ingredients;return e.primecost=this._getPrimeCostFromIngredients(n),e.profit=this._parseNumber(e.price)-this._parseNumber(e.primecost),e.parameters=this._getParametersFromIngredients(n),e=this._bindParameters(e),e=this._convertNumbersToStrings(e),{product:e=this._removeExtras(e),ingredients:n=(n=(n=(n=n.map(function(e){return t._bindParameters(e)})).map(function(e){return t._convertStringsToNumbers(e)})).map(function(e){return t._convertNumbersToStrings(e)})).map(function(e){return t._removeExtras(e)})}}},{key:"_getPrimeCostFromIngredients",value:function(e){var t=this;return e.reduce(function(e,n){return e+t._parseNumber(n.primecost)*t._parseNumber(n.count)},0)}},{key:"_getParametersFromIngredients",value:function(e){var t=this,n={};return Object.keys(e[0].parameters).forEach(function(r){n[r]=e.reduce(function(e,n){var o=t._parseNumber(n.parameters[r]);return e+(o=o?o*t._parseNumber(n.count):0)},0)}),n}},{key:"_bindParameters",value:function(e){return Object.keys(e.parameters).forEach(function(t){return e[t]=e.parameters[t]}),e}},{key:"_removeExtras",value:function(e){return["_id","_id_integer","_id_decimal","ingredients","parameters","group","group_integer","group_decimal"].forEach(function(t){e[t]&&delete e[t]}),e}},{key:"_convertStringsToNumbers",value:function(e){for(var t in e)if("string"==typeof e[t]){var n=this._parseNumber(e[t]);e[t]=n||e[t]}return e}},{key:"_convertNumbersToStrings",value:function(e){var t=["count"];for(var n in e)if("number"==typeof e[n]&&!t.includes(n)){var r=e[n],o=r<0,u=Math.abs(r/1).toFixed(2),a=(o?"-":"")+u.replace(/\.\d{0,}/,""),i=u.replace(/\d{0,}\./,"");e[n+"_integer"]=a,e[n+"_decimal"]=i,delete e[n]}return e}},{key:"_parseNumber",value:function(e){return"number"!=typeof e||Number.isNaN(e)?(e.includes(",")&&(e=e.match(/\d{1,},{1,}\d{1,}/g)[0].replace(",",".")),parseFloat(e)):e}}]),e}();t.default=o},,function(e,t){},,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,u=e}finally{try{!r&&i.return&&i.return()}finally{if(o)throw u}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(194),a=function(e){return e&&e.__esModule?e:{default:e}}(n(187));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rABS=!0,this._calculator=t.calculator}return o(e,[{key:"parseWord",value:function(e,t,n){var o=this;return Promise.all([a.default.load(e),this._calculator.getProductTotalById(n)]).then(function(e){var n=r(e,2),u=n[0],a=n[1],i=u.officeDocument;return o._parseXml(i,a).then(function(){return u.save(t+".docx")})})}},{key:"parseTable",value:function(e){return this._readTable(e).then(this._parseWorkBook.bind(this))}},{key:"_parseXml",value:function(e,t){var n=this._getAllTextNodes(e),r=this._getDocumentTables(e);return this._markValidXmlTables(r,e),this._replaceProductKey(n,t.product),this._replaceIngredientKey(t.ingredients,e),Promise.resolve()}},{key:"_replaceIngredientKey",value:function(e,t){var n=this,r=this._calculator.getIngredientKey(""),o=e.length-1,u=t.content("w\\:tbl.valid");if(u.length&&!(o<=0)){for(var a=0;a<u.length;a++){t.content("w\\:tbl.valid:nth-of-type("+(a+1)+") w\\:tr:last-child").addClass("iterable");for(var i=0;i<o;i++){var l=t.content("w\\:tbl.valid:nth-of-type("+(a+1)+") w\\:tr:last-child").clone();t.content("w\\:tbl.valid:nth-of-type("+(a+1)+")").append(l)}}for(var s=[],c=0;c<u.length;c++){s[c]=[];for(var f=t.content("w\\:tbl.valid:nth-of-type("+(c+1)+") w\\:tr.iterable"),p=0;p<f.length;p++)s[c][p]=f[p]}(s=s.map(function(e){return e.map(function(e){return n._findAllTextInChildren(e)})})).forEach(function(t){t.forEach(function(t,o){var u=e[o],a=Object.keys(u);t.forEach(function(e){var t=e.data;t.includes(r)&&(e.data=function(e){return a.forEach(function(t){var r=n._calculator.getIngredientKey(t);e=e.replace(r,u[t])}),e}(t))})})})}}},{key:"_getAllTextNodes",value:function(e){return e.content("w\\:t")}},{key:"_getDocumentTables",value:function(e){return e.content("w\\:tbl")}},{key:"_markValidXmlTables",value:function(e,t){for(var n=this,r=e.length,o=[],u=0;u<r;u++){var a=e[u].children.filter(function(e){return"w:tr"===e.name});if(a.length>2)o.push(!1);else{var i=a.map(function(e){return n._findAllTextInChildren(e)});1===this._getIngredientsRows(i).length?o.push(!0):o.push(!1)}}o.forEach(function(e,n){var r=n+1;e&&t.content("w\\:tbl:nth-of-type("+r+")").addClass("valid")})}},{key:"_getIngredientsRows",value:function(e){var t=this._calculator.getIngredientKey("");return e.filter(function(e){return e.reduce(function(e,n){return e||n.data.includes(t)},!1)})}},{key:"_findAllTextInChildren",value:function(e){return this._getAllChildsRecursive(e).filter(function(e){return"text"===e.type})}},{key:"_getAllChildsRecursive",value:function(e){var t=[];return function e(n){var r=function(e){return e.children?e.children:[]}(n);!function(e){t=t.concat(e)}(r),r.forEach(function(t){return e(t)})}(e),t}},{key:"_concatRecursive",value:function(e){var t=this;return e.reduce(function(e,n){var r=Array.isArray(n)&&n.length?t._concatRecursive(n):n;return e.concat(r)})}},{key:"_replaceProductKey",value:function(e,t){for(var n=this,r=this._calculator.getProductKey(""),o=Object.keys(t),u=e.length,a=function(e){return o.forEach(function(r){var o=n._calculator.getProductKey(r);e=e.replace(o,t[r])}),e},i=0;i<u;i++)for(var l=e[i].children.length,s=0;s<l;s++){var c=e[i].children[s];"string"==typeof c.data&&c.data.includes(r)&&(c.data=a(c.data))}}},{key:"_readTable",value:function(e){var t=this;return new Promise(function(n,r){var o=new FileReader;o.addEventListener("load",function(e){var r=e.target.result;t._rABS||(r=new Uint8Array(r));var o=(0,u.read)(r,{type:t._rABS?"binary":"array"});n(o)}),t._rABS?o.readAsBinaryString(e):o.readAsArrayBuffer(e)})}},{key:"_parseWorkBook",value:function(e){var t=this._prepareSheets(e);return(t=this._validateSheets(t)).error?Promise.reject(validSheets.message):(t=(t=this._bindValues(t)).reduce(function(e,t){return e.concat(t.value)},[]),t=this._divideByCount(t),t=this._toIngredients(t))}},{key:"_prepareSheets",value:function(e){var t=this,n=e.Sheets;return e.SheetNames.map(function(e){var r=u.utils.sheet_to_json(n[e]);return{name:e,value:r,keys:r.reduce(function(e,t){return e.concat(Object.keys(t))},[]).filter(t._onlyUnique.bind(t))}})}},{key:"_validateSheets",value:function(e){var t=function(e){return{error:!0,message:e}};if(!e||!e.length)return t("Table should have at least one sheet");var n=["name","primecost"],r=e.map(function(e){return e.keys}),o=e.map(function(e){return e.value}),u=r.reduce(function(e,t){return e&&t&&t.length},!0);if(!o.reduce(function(e,t){return e&&t&&t.length},!0))return t("Each sheet can't be empty");if(!u)return t("Each sheet should have the table headers");if(!r.reduce(function(e,t){return e&&t.reduce(function(e,t){return n.includes(t)},!0)},!0))return t('Each sheet should include the "name" and "primecost" table headers');var a=r.filter(function(e){return r[0].length===e.length}).length===r.length,i=r.reduce(function(e,t){return e&&t.reduce(function(e,t){return e&&r[0].includes(t)},!0)},!0);return a&&i?e:t("Each sheet should have the same table headers")}},{key:"_bindValues",value:function(e){var t=this,n=this._getMapKeyType(e);return e=e.map(function(e){return e.value=e.value.map(function(r){return r.supplier=e.name,e.keys.forEach(function(e){"number"===n[e]?(r[e]||(r[e]="count"===e?"1":"0"),r[e]=t._tryGetNumber(r[e])):r[e]||(r[e]="")}),r}),e})}},{key:"_divideByCount",value:function(e){return e.map(function(e){var t={};return Object.keys(e).forEach(function(n){"count"!==n&&("number"==typeof e[n]?t[n]=e[n]/e.count:t[n]=e[n])}),t})}},{key:"_toIngredients",value:function(e){return e.map(function(e){var t=["name","group","supplier","parameters","primecost"],n={parameters:{}};return Object.keys(e).forEach(function(r){t.includes(r)?n[r]=e[r]:n.parameters[r]=e[r]}),n})}},{key:"_getMapKeyType",value:function(e){var t=this,n={};return e.map(function(e){return e.keys}).reduce(function(e,t){return e.concat(t)},[]).filter(this._onlyUnique.bind(this)).forEach(function(r){var o=t._isColumnAreNumber(r,e);n[r]=o?"number":"string"}),n}},{key:"_isColumnAreNumber",value:function(e,t){var n=this;return t.reduce(function(t,n){var r=n.value.map(function(t){return t[e]}).filter(Boolean);return t.concat(r)},[]).reduce(function(e,t){var r=n._tryGetNumber(t);return e&&"number"==typeof r},!0)}},{key:"_tryGetNumber",value:function(e){var t=e;if(e.includes(",")){var n=e.match(/\d{1,},\d{1,}/)[0];n&&n.length&&(e=n.replace(",","."))}var r=parseFloat(e);return!t.replace(/(\d{1,}(,|.)\d{0,})|(\d{1,})/g,"").length?r:t}},{key:"_onlyUnique",value:function(e,t,n){return n.indexOf(e)===t}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(89));var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{network:e.network,path:"/users"}));return n.EVENT_LOG_OUT="log-out",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"isAuth",value:function(){return this._network.isAuth}},{key:"getUserInfo",value:function(){return this._network.request(this.PATH+"/me")}},{key:"login",value:function(e){return this._network.request(this.PATH+"/login",e,"POST",void 0,!0)}},{key:"logout",value:function(){var e=this;return this._network.request(this.PATH+"/me/token",void 0,"DELETE").then(function(){e._network.removeToken(),e.emit(e.EVENT_LOG_OUT)})}},{key:"signup",value:function(e){return this._network.request(this.PATH+"/",e,"POST",void 0,!0)}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(36)),o=u(n(52));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{path:"/products",network:e.network,model:o.default}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(21));var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_parse",value:function(e){this._id=e._id,this.name=e.name,this.products=e.products}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(36)),o=u(n(198));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{path:"/menus",network:e.network,model:o.default}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(21));var u=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"_parse",value:function(e){this._id=e._id,this.name=e.name,this.ingredients=e.ingredients}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(36)),o=u(n(200));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{path:"/ingredients-groups",network:e.network,model:o.default}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(36)),o=u(n(90));function u(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{path:"/ingredients",network:e.network,model:o.default}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TOKEN="token",this._token=localStorage[this.TOKEN]}return r(e,[{key:"removeToken",value:function(){this._token=void 0,localStorage.removeItem(this.TOKEN)}},{key:"request",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments[4];return new Promise(function(a,i){var l=new XMLHttpRequest;for(var s in l.open(n,e),r._token&&l.setRequestHeader("x-auth",r._token),t&&(t=JSON.stringify(t),l.setRequestHeader("Content-Type","application/json")),o)l.setRequestHeader(s,o[s]);l.onload=function(){200===l.status&&(u&&r._setToken(l.getResponseHeader("x-auth")),a(JSON.parse(l.response).data)),i(JSON.parse(l.response).message)},l.onerror=function(e){return i(e)},t?l.send(t):l.send()})}},{key:"_setToken",value:function(e){this._token=e,localStorage[this.TOKEN]=e}},{key:"isAuth",get:function(){return!!this._token}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(203)),u=p(n(202)),a=p(n(201)),i=p(n(199)),l=p(n(197)),s=p(n(196)),c=p(n(195)),f=p(n(102));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._network=new o.default,this.api={},this.services={},this._bindApis(),this._bindServices()}return r(e,[{key:"_bindApis",value:function(){var e=this.api,t={network:this._network};e.ingredient=new u.default(t),e.ingredientsGroup=new a.default(t),e.menu=new i.default(t),e.product=new l.default(t),e.user=new s.default(t)}},{key:"_bindServices",value:function(){var e=this.services;e.productCalculator=new f.default({productApi:this.api.product,ingredientApi:this.api.ingredient}),e.parser=new c.default({calculator:e.productCalculator})}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){return u.default.createElement("img",{src:"https://i.pinimg.com/originals/59/2e/5c/592e5c32cbecb392f444b79950cb9e7e.jpg",alt:"Nothing to see here",style:{display:"block",margin:"0 auto"}})}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(1)),u=l(n(10)),a=l(n(22)),i=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.URL="/menus/",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"preload",value:function(){var e=this;return this.props.menuApi.read().then(function(t){return{table:new i.default(e._parseTable(t))}})}},{key:"getTemplate",value:function(){var e=this;return o.default.createElement(a.default,{table:this.state.table,onRowDelete:function(t){return e._deleteIngredientGroup(t)},onSave:function(t){return e._onSave(t)},onAdd:this._onAdd.bind(this)})}},{key:"_parseTable",value:function(e){return{head:["Name"],body:e.map(this._parseRow.bind(this))}}},{key:"_parseRow",value:function(e){var t={id:e._id,cells:[],url:""+this.URL+e._id};return t.cells.push({id:e._id,key:"Name",name:"name",value:e.name,component:function(e){return o.default.createElement("span",{contentEditable:e.contentEditable,onInput:function(t){return e.onInput(t)},suppressContentEditableWarning:!0},e.children)},initValue:e.name,editable:!0,changed:!1}),t}},{key:"_deleteIngredientGroup",value:function(e){return this.props.menuApi.delete([e])}},{key:"_onAdd",value:function(e){var t=this;return this.props.menuApi.create([e]).then(function(e){return e.map(t._parseRow.bind(t))})}},{key:"_onSave",value:function(e){return this.props.menuApi.update(e)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(1)),u=c(n(10)),a=c(n(20)),i=c(n(52)),l=c(n(22)),s=c(n(91));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.URL="/products/",n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"preload",value:function(){var e=this,t=this.props.match.params.id,n={};return this.props.menuApi.getByIds([t]).then(function(t){return t&&t.length?(n.menu=t[0],e.props.productApi.read().then(function(t){return e._AllProducts=t.map(function(e){return new i.default(e)}),e._products=e._AllProducts.filter(function(e){return n.menu.products.includes(e._id)}),n.table=new a.default(e._parseTable(e._products)),n})):(n.table=new a.default({head:["Name","Price"],body:[]}),n)})}},{key:"getTemplate",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("h1",{style:{padding:"15px 30px"}},this.state.menu.name),o.default.createElement(s.default,{onAdd:function(t){return e._onInputNew(t)},source:this._AllProducts,ignore:this.state.menu.products}),o.default.createElement(l.default,{table:this.state.table,showAddBtn:!1,onRowDelete:function(t){return e._delete(t)},onSave:function(t){return e._onSave(t)},onAdd:this._onAdd.bind(this)}))}},{key:"_parseTable",value:function(e){var t=this;if(!e.length)return{head:["Name","Price"],body:[]};var n={head:["Name","Price"]};return n.body=e.map(function(e){return t._parseRow(e)}),n}},{key:"_parseRow",value:function(e){var t={id:e._id,cells:[],url:""+this.URL+e._id+"/total/"},n=function(e){return o.default.createElement("span",{contentEditable:e.contentEditable,onInput:function(t){return e.onInput(t)},suppressContentEditableWarning:!0},e.children)};return t.cells.push({id:e._id,key:"Name",name:"name",value:e.name,component:n,initValue:e.name,editable:!0,changed:!1}),t.cells.push({id:e._id,key:"Price",name:"price",value:e.price,component:n,initValue:e.price,editable:!0,changed:!1}),t}},{key:"_onInputNew",value:function(e){var t=this,n=new i.default(e),r=this.state.menu;this._products.push(n),r.products.push(n._id);var o=this._parseTable(this._products),u={};return u[r._id]=r,this.props.menuApi.update(u).then(function(e){return t.setState({table:{body:o.body}}),e})}},{key:"_delete",value:function(e){var t=this.state.menu,n=t.products.findIndex(function(t){return t===e});t.products.splice(n,1);var r={};return r[t._id]=t,this.props.menuApi.update(r)}},{key:"_onSave",value:function(e){return this.props.productApi.update(e)}},{key:"_onAdd",value:function(e){var t=this;return this.props.productApi.create([e]).then(function(e){var n=e.map(function(e){return t._parseRow(e)});n.forEach(function(e){t._products.push(e),t._AllProducts.push(e),t.state.menu.products.push(e.id)});var r={};return r[t.state.menu._id]=t.state.menu,t.props.menuApi.update(r),n})}}]),t}();t.default=f},function(e){e.exports={action:"Sign up",inputs:[{name:"email",export:!0,valid:!1,placeholder:"Type your email here",type:"email",value:"",validation:{required:!0,pattern:["[\\w\\d]{3,}@[\\w\\d]{3,}.[\\w]{2,}","i"]},message:"",error:"Incorrect email"},{name:"password",export:!0,valid:!1,placeholder:"Type your password here",type:"password",value:"",validation:{required:!0,pattern:["[\\S]{3,}","i"]},message:"",error:"Password should have at least three symbols"},{name:"second password",export:!1,valid:!1,placeholder:"Repeat your password here",type:"password",value:"",validation:{required:!0,pattern:[],equals:1},message:"",error:"Second password should be equal to first one"}]}},function(e){e.exports={action:"Log in",inputs:[{name:"email",export:!0,valid:!1,placeholder:"Type your email here",type:"email",value:"",validation:{required:!0,pattern:["[\\w\\d]{3,}@[\\w\\d]{3,}.[\\w]{2,}","i"]},message:"",error:"Incorrect email"},{name:"password",export:!0,valid:!1,placeholder:"Type your password here",type:"password",value:"",validation:{required:!0,pattern:["[\\S]{3,}","i"]},message:"",error:"Password should have at least three symbols"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=c(o),a=n(101),i=c(n(92));n(244);var l=c(n(209)),s=c(n(208));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._userApi=n.props.userApi,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"auth"},u.default.createElement(a.Tabs,{className:"auth__tabs",selectedTabClassName:"auth__tab_selected",selectedTabPanelClassName:"auth__tab-panel_selected"},u.default.createElement(a.TabList,{className:"auth__tabs-list"},u.default.createElement(a.Tab,{className:"auth__tab"},"Log in"),u.default.createElement(a.Tab,{className:"auth__tab"},"Sign up")),u.default.createElement(a.TabPanel,{className:"auth__tab-panel"},u.default.createElement(i.default,{onSubmit:this._onLogin.bind(this),form:l.default})),u.default.createElement(a.TabPanel,{className:"auth__tab-panel"},u.default.createElement(i.default,{onSubmit:this._onSignUp.bind(this),form:s.default}))))}},{key:"_onLogin",value:function(e){var t=this;return this._userApi.login(e).then(function(e){return t.props.onAuth(),e})}},{key:"_onSignUp",value:function(e){var t=this;return this._userApi.signup(e).then(function(e){return t.props.onAuth(),e})}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=i(o),a=i(n(210));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){return u.default.createElement(a.default,{userApi:this.props.userApi,onAuth:this._onAuth.bind(this)})}},{key:"_onAuth",value:function(){this.props.history.push("/")}}]),t}();t.default=l},function(e){e.exports={action:"Send table",inputs:[{name:"name",export:!0,valid:!1,placeholder:"Type name of table here",type:"text",value:"",validation:{required:!0,pattern:["[\\S]{3,}","i"]},message:"",error:"The name of table should be at least three letters length"},{name:"table",export:!0,valid:!1,placeholder:"Type your password here",type:"file",value:"",validation:{required:!0,pattern:[".(xlsx|xls)$","i"]},message:"",error:"File should be an excel file"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),u=s(n(10)),a=s(n(22)),i=s(n(20)),l=s(n(212));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.URL="/tables/",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"preload",value:function(){return Promise.all([this.props.ingredientsGroupApi.read()])}},{key:"getTemplate",value:function(){var e=this;return o.default.createElement(a.default,{table:this.state.table,onRowDelete:function(t){return e._deleteIngredientGroup(t)},onSave:function(t){return e._onSave(t)},onAdd:this._onAdd.bind(this),customForm:l.default})}},{key:"_saveState",value:function(e){var t=e[0],n=new i.default(this._parseTable(t));this.setState({groups:t,table:n})}},{key:"_parseTable",value:function(e){return{head:["Name"],body:e.map(this._parseRow.bind(this))}}},{key:"_parseRow",value:function(e){var t={id:e._id,cells:[],url:""+this.URL+e._id};return t.cells.push({id:e._id,key:"Name",name:"name",value:e.name,component:function(e){return o.default.createElement("span",{contentEditable:e.contentEditable,onInput:function(t){return e.onInput(t)},suppressContentEditableWarning:!0},e.children)},initValue:e.name,editable:!0,changed:!1}),t}},{key:"_deleteIngredientGroup",value:function(e){return this.props.ingredientsGroupApi.delete([e])}},{key:"_onAdd",value:function(e){var t=this;return this.props.serviceParser.parseTable(e.table).then(function(n){return t.props.ingredientsGroupApi.create([{name:e.name}]).then(function(e){var r=n.map(function(t){return t.group=e[0]._id,t});return t.props.ingredientApi.create(r).then(function(){return e.map(t._parseRow.bind(t))})})})}},{key:"_onSave",value:function(e){return this.props.ingredientsGroupApi.update(e)}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o);n(246);var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.DEFAULT_ACTIVE_ID=-1,n.state=n._getInitialState(e.filters),n._onFilterSelected=e.onFilterSelected,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this._getDefaultFilters().concat(e.filters);this.setState({filters:t})}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"filters"},this.state.filters.map(function(t,n){return u.default.createElement("button",{key:n,onClick:function(){return e._onClick(t.id)},className:"filters__item "+(t.id===e.state.activeId?"filters__item_selected":"")},t.name)}))}},{key:"_onClick",value:function(e){this._onFilterSelected(e),this.setState({activeId:e})}},{key:"_getDefaultFilters",value:function(){return[{id:this.DEFAULT_ACTIVE_ID,name:"All"}]}},{key:"_getInitialState",value:function(e){return{activeId:this.DEFAULT_ACTIVE_ID,filters:this._getDefaultFilters().concat(e)}}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=l(o),a=l(n(22)),i=l(n(214));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=n._getInitialState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){if(e.table&&table.head&&table.body){var t=this._getTableWithFilters(e.table),n=t.table,r=t.filters;this.setState({table:n,filters:r})}}},{key:"render",value:function(){var e=this;return u.default.createElement("div",null,u.default.createElement(i.default,{filters:this.state.filters,onFilterSelected:this._onFilterSelected.bind(this)}),u.default.createElement(a.default,{table:this.state.table,onRowDelete:function(t){return e.props.onRowDelete(t)},onSave:function(t){return e.props.onSave(t)},onAdd:function(t){return e.props.onAdd(t)}}))}},{key:"_filterTable",value:function(e){var t=Object.assign({},this.state.table);return t.body=this.props.table.body.filter(function(t){return t.filterId===e}),t.body.length||(t.body=this.props.table.body),t}},{key:"_onFilterSelected",value:function(e){this.setState({table:this._filterTable(e)})}},{key:"_getInitialState",value:function(){var e=this._getTableWithFilters(this.props.table);return{table:e.table,filters:e.filters}}},{key:"_getTableWithFilters",value:function(e){var t=this,n=[];return e.body=e.body.map(function(e,r){var o=e.cells.find(function(e){return e.key===t.props.filterKey}).value,u=!!n.length&&n.find(function(e){return e.name===o});if(u)e.filterId=u.id;else{var a=n.slice(-1)[0],i=a?a.id+1:0,l=o;e.filterId=i,n.push({id:i,name:l})}return e}),{table:e,filters:n}}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(1)),u=l(n(10)),a=l(n(215)),i=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"preload",value:function(){var e=this,t=this.props.match.params.id,n={};return this.props.ingredientsGroupApi.getByIds([t]).then(function(t){var r=function(t){var r=e._parseTable(Array.isArray(t)?t:[]);return n.table=new i.default(r.table),n};return t&&t.length?(n.group=t[0],e.props.ingredientApi.getByIds(n.group.ingredients).then(r,r)):(n.table=new i.default({head:[],body:[]}),n)})}},{key:"getTemplate",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("h1",{style:{padding:"15px 30px"}},this.state.group.name),o.default.createElement(a.default,{table:this.state.table,filterKey:"Supplier",onRowDelete:function(t){return e._deleteIngredientGroup(t)},onSave:function(t){return e._onSave(t)},onAdd:this._onAdd.bind(this)}))}},{key:"_parseTable",value:function(e){var t=this;if(!e.length)return{table:{head:["Name","Supplier","Prime cost"],body:[]}};var n={head:[]};return n.body=e.map(function(e){return t._parseRow(e,n.head)}),{table:n}}},{key:"_parseRow",value:function(e,t){var n={id:e._id,cells:[]},r=function(e){t.includes(e)||t.push(e)},u=function(e){return o.default.createElement("span",{contentEditable:e.contentEditable,onInput:function(t){return e.onInput(t)},suppressContentEditableWarning:!0},e.children)};for(var a in r("Name"),n.cells.push({id:e._id,key:"Name",name:"name",value:e.name,component:u,initValue:e.name,editable:!0,changed:!1}),r("Supplier"),n.cells.push({id:e._id,key:"Supplier",name:"supplier",value:e.supplier,component:u,initValue:e.supplier,editable:!0,changed:!1}),e.parameters){var i=e.parameters[a];r(a),n.cells.push({id:e._id,key:a,name:"parameters."+a,value:i,component:u,initValue:i,editable:!0,changed:!1})}return r("Prime cost"),n.cells.push({id:e._id,key:"Prime cost",name:"primecost",value:e.primecost,component:u,initValue:e.primecost,editable:!0,changed:!1}),n}},{key:"_deleteIngredientGroup",value:function(e){return this.props.ingredientApi.delete([e])}},{key:"_onSave",value:function(e){for(var t in e)e[t].group=this.state.group;return this.props.ingredientApi.update(e)}},{key:"_onAdd",value:function(e){var t=this;return e.group=this.state.group._id,this.props.ingredientApi.create([e]).then(function(e){return e.map(function(e){return t._parseRow(e,t.state.table.head)})})}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(1)),u=s(n(10)),a=s(n(20)),i=s(n(52)),l=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.URL="/products/",n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"preload",value:function(){var e=this;return this.props.productApi.read().then(function(t){return e._products=t.map(function(e){return new i.default(e)}),{table:new a.default(e._parseTable(e._products))}})}},{key:"getTemplate",value:function(){var e=this;return o.default.createElement(l.default,{table:this.state.table,onRowDelete:function(t){return e._deleteIngredientGroup(t)},onSave:function(t){return e._onSave(t)},onAdd:this._onAdd.bind(this)})}},{key:"_parseTable",value:function(e){var t=this;if(!e.length)return{head:["Name","Price"],body:[]};var n={head:["Name","Price"]};return n.body=e.map(function(e){return t._parseRow(e)}),n}},{key:"_parseRow",value:function(e){var t={id:e._id,cells:[],url:""+this.URL+e._id+"/total/"},n=function(e){return o.default.createElement("span",{contentEditable:e.contentEditable,onInput:function(t){return e.onInput(t)},suppressContentEditableWarning:!0},e.children)};return t.cells.push({id:e._id,key:"Name",name:"name",value:e.name,component:n,initValue:e.name,editable:!0,changed:!1}),t.cells.push({id:e._id,key:"Price",name:"price",value:e.price,component:n,initValue:e.price,editable:!0,changed:!1}),t}},{key:"_deleteIngredientGroup",value:function(e){return this.props.productApi.delete([e])}},{key:"_onSave",value:function(e){return this.props.productApi.update(e)}},{key:"_onAdd",value:function(e){var t=this;return this.props.productApi.create([e]).then(function(e){var n=e.map(function(e){return t._parseRow(e)});return n.forEach(function(e){t._products.push(e)}),n})}}]),t}();t.default=c},function(e){e.exports={action:"Export docx",inputs:[{name:"name",export:!0,valid:!1,placeholder:"Type name of file here",type:"text",value:"",validation:{required:!0,pattern:["[\\S]{3,}","i"]},message:"",error:"The name of file should be at least three letters length"},{name:"table",export:!0,valid:!1,placeholder:"Example",type:"file",value:"",validation:{required:!0,pattern:[".(docx|docx)$","i"]},message:"",error:"File should be an docx file"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o);n(250);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.props.table;return u.default.createElement("table",{className:"table",style:this.props.style},u.default.createElement("tbody",null,u.default.createElement("tr",{className:"table__head table__row"},t.head.map(function(e,t){return u.default.createElement("th",{key:t,className:"table__cell table__cell-in-head"},e)})),t.body.map(function(n,r){return u.default.createElement("tr",{key:r,className:"table__body-row table__row"},t.head.map(function(t,r){var o=e._getCellByKey(t,n);return u.default.createElement("td",{key:r,className:"table__cell"},o.value)}))})))}},{key:"_getCellByKey",value:function(e,t){return t.find(function(t){return t.key===e})}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(1)),u=f(n(10)),a=n(12),i=f(n(23)),l=f(n(219)),s=f(n(93)),c=f(n(218));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"preload",value:function(){var e=this,t=this.props.match.params.id;return this.props.productCalculator.getProductTotalById(t).then(function(t){return t.tables={},t.tables.product=e._parseProductTable(t.product),t.tables.ingredients=e._parseIngredientsTable(t.ingredients),t.exportVisible=!1,t})}},{key:"getTemplate",value:function(){return o.default.createElement("div",null,o.default.createElement("h1",{style:{padding:"15px 30px"}},this.state.product.name),o.default.createElement("div",{className:"filters"},o.default.createElement(i.default,{style:{display:"inline-block",margin:"0 15px 0 0"},status:i.default.Status.SELECTED},"Total"),o.default.createElement(i.default,{style:{display:"inline-block",margin:"0 15px 0 0"}},o.default.createElement(a.Link,{style:{color:"inherit",textDecoration:"none"},to:"/products/"+this.props.match.params.id+"/"},"Ingredients"))),o.default.createElement(i.default,{style:{display:"inline-block",margin:"0 0 0 30px"},onClick:this._onExportClick.bind(this)},"Export to DOCX"),o.default.createElement("h1",{style:{padding:"15px 30px"}},"Product keys"),o.default.createElement(l.default,{table:this.state.tables.product}),this.state.tables.ingredients?o.default.createElement("div",{style:{width:"100%",overflow:"auto"}},o.default.createElement("h1",{style:{padding:"15px 30px"}},"Ingredients keys"),o.default.createElement(l.default,{table:this.state.tables.ingredients,style:{width:"auto",minWidth:"100%"}})):o.default.createElement("h1",{style:{padding:"15px 30px"}},"No ingredients added yet."),o.default.createElement(s.default,{title:"Add new item",isVisible:this.state.exportVisible,onSend:this._onExportSend.bind(this),onClose:this._onExportClose.bind(this),form:c.default}))}},{key:"_parseProductTable",value:function(e){var t=this,n={head:["Key","Property"],body:[]};return Object.keys(e).forEach(function(r){var o=[];o.push({key:"Key",value:t.props.productCalculator.getProductKey(r)}),o.push({key:"Property",value:e[r]}),n.body.push(o)}),n}},{key:"_parseIngredientsTable",value:function(e){var t=this;if(!e||!e.length)return null;var n={};return n.head=Object.keys(e[0]).map(function(e){return t.props.productCalculator.getIngredientKey(e)}),n.body=e.map(function(e){var n=[];return Object.keys(e).forEach(function(r){return n.push({key:t.props.productCalculator.getIngredientKey(r),value:e[r]})}),n}),n}},{key:"_onExportClick",value:function(){return this.setState({exportVisible:!0}),Promise.resolve()}},{key:"_onExportSend",value:function(e){var t=this.props.match.params.id;return this.props.serviceParser.parseWord(e.table,e.name,t).then(function(e){return console.log("result",e),Promise.resolve()})}},{key:"_onExportClose",value:function(){return this.setState({exportVisible:!1}),Promise.resolve()}}]),t}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(1)),u=n(12),a=p(n(10)),i=p(n(22)),l=p(n(20)),s=p(n(91)),c=p(n(90)),f=p(n(23));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"preload",value:function(){var e=this,t=this.props.match.params.id;return Promise.all([this.props.ingredientApi.read(),this.props.productApi.getByIds([t])]).then(function(t){var n=t[0],r=t[1]&&t[1].length&&t[1][0]||null,o=r?r.ingredients.map(function(e){var t=n.find(function(t){return t._id===e.id});return t.count=e.count,t}):[];return{table:new l.default(e._parseTable(o).table),product:r,ingredients:o,allIngredients:n,exportVisible:!1}})}},{key:"getTemplate",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement("h1",{style:{padding:"15px 30px"}},this.state.product.name),o.default.createElement("div",{className:"filters"},o.default.createElement(f.default,{style:{display:"inline-block",margin:"0 15px 0 0"}},o.default.createElement(u.Link,{style:{color:"inherit",textDecoration:"none"},to:"/products/"+this.state.product._id+"/total/"},"Total")),o.default.createElement(f.default,{style:{display:"inline-block",margin:"0 15px 0 0"},status:f.default.Status.SELECTED},"Ingredients")),o.default.createElement(s.default,{onAdd:function(t){return e._onInputNew(t)},source:this.state.allIngredients,ignore:this.state.product.ingredients.map(function(e){return e.id})}),o.default.createElement(i.default,{table:this.state.table,showAddBtn:!1,onRowDelete:function(t){return e._delete(t)},onSave:function(t){return e._onSave(t)}}))}},{key:"_parseTable",value:function(e){var t=this;if(!e.length)return{table:{head:["Name","Supplier","Count","Prime cost"],body:[]}};var n={head:[]};return n.body=e.map(function(e){return t._parseRow(e,n.head)}),{table:n}}},{key:"_parseRow",value:function(e,t){var n={id:e._id,cells:[]},r=function(e){t.includes(e)||t.push(e)},u=function(e){return o.default.createElement("span",{contentEditable:e.contentEditable,onInput:function(t){return e.onInput(t)},suppressContentEditableWarning:!0},e.children)};for(var a in r("Name"),n.cells.push({id:e._id,key:"Name",name:"name",value:e.name,component:u,initValue:e.name,editable:!0,changed:!1}),r("Supplier"),n.cells.push({id:e._id,key:"Supplier",name:"supplier",value:e.supplier,component:u,initValue:e.supplier,editable:!0,changed:!1}),r("Count"),n.cells.push({id:e._id,key:"Count",name:"count",value:e.count,component:u,initValue:e.count,editable:!0,changed:!1}),e.parameters){var i=e.parameters[a];r(a),n.cells.push({id:e._id,key:a,name:"parameters."+a,value:i,component:u,initValue:i,editable:!0,changed:!1})}return r("Prime cost"),n.cells.push({id:e._id,key:"Prime cost",name:"primecost",value:e.primecost,component:u,initValue:e.primecost,editable:!0,changed:!1}),n}},{key:"_onInputNew",value:function(e){var t=this,n=this.state,r=n.product,o=n.ingredients,u=new c.default(e);u.count=1,o.push(u),r.ingredients.push({id:u._id,count:1});var a=this._parseTable(o).table,i={};return i[r._id]=r,this.props.productApi.update(i).then(function(e){return t.setState({table:{head:a.head,body:a.body,getCellByKey:a.getCellByKey,popupVisible:a.popupVisible,showAddBtn:a.showAddBtn},product:{ingredients:r.ingredients,_id:r._id,name:r.name,price:r.price},ingredients:o}),e})}},{key:"_delete",value:function(e){var t=this,n=this.state,r=n.product,o=n.ingredients,u=n.table,a=r.ingredients.findIndex(function(t){return t.id===e});r.ingredients.splice(a,1);var i={};return i[r._id]=r,this.props.productApi.update(i).then(function(n){return t.setState({table:{head:u.head,body:u.body.filter(function(t){return t.id!==e}),getCellByKey:u.getCellByKey,popupVisible:u.popupVisible,showAddBtn:u.showAddBtn},product:{ingredients:r.ingredients,_id:r._id,name:r.name,price:r.price},ingredients:o.filter(function(t){return t._id!==e})}),n})}},{key:"_onSave",value:function(e){var t=this,n=this.state.product,r=function(r){var o=t.state.allIngredients.find(function(e){return e._id===r});e[r].group=o.group;var u=e[r].count;n.ingredients.forEach(function(e){e.id===r&&(e.count=u)}),delete e[r].count};for(var o in e)r(o);var u={};return u[n._id]=n,Promise.all([this.props.ingredientApi.update(e),this.props.productApi.update(u)]).then(function(e){return e[0]})}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(1)),u=a(n(10));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),r(t,[{key:"preload",value:function(){return Promise.resolve({data:{}})}},{key:"getTemplate",value:function(){return o.default.createElement("div",{style:{padding:"30px"}},o.default.createElement("p",null,"Someday this page will contain some very important information but not today."),o.default.createElement("p",null,"So please check the other pages."))}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(12);var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._userApi=e.userApi,n.state={isAuth:n._userApi.isAuth()},n._onLogOutBound=n._onLogOut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"componentWillMount",value:function(){this._userApi.on(this._userApi.EVENT_LOG_OUT,this._onLogOutBound)}},{key:"render",value:function(){return this.state.isAuth?this.props.component:u.default.createElement(a.Redirect,{to:"/login/"})}},{key:"componentWillUnmount",value:function(){this._userApi.removeListener(this._userApi.EVENT_LOG_OUT,this._onLogOutBound)}},{key:"_onLogOut",value:function(){this.setState({isAuth:!1})}}]),t}();t.default=i},function(e){e.exports=[{url:"/",name:"Home",icon:"icon-home",exact:!0},{url:"/tables/",name:"Tables",icon:"icon-table",exact:!1},{url:"/menus/",name:"Menus",icon:"icon-folder-open",exact:!1},{url:"/products/",name:"Products",icon:"icon-restaurant",exact:!1}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),o=n(12);t.default=function(e){return r.default.createElement(o.NavLink,{to:e.url,activeClassName:"navigation__link_selected",className:"navigation__link fa "+e.icon,exact:e.exact},e.name)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),a=c(u),i=c(n(225)),l=c(n(23));n(260);var s=c(n(224));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._userApi=e.userApi,n._links=s.default.map(function(e,t){return a.default.createElement(i.default,r({key:t},e))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),o(t,[{key:"render",value:function(){return a.default.createElement("div",{className:"navigation"},this._links,a.default.createElement(l.default,{status:l.default.Status.ACTIVE,className:"navigation__btn",onClick:this._onLogOut.bind(this)},"Log Out"))}},{key:"_onLogOut",value:function(e){return this._userApi.logout(),Promise.resolve()}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),o=u(n(226));function u(e){return e&&e.__esModule?e:{default:e}}n(258),t.default=function(e){return r.default.createElement("div",{className:"sidebar layout__column"},r.default.createElement(o.default,{userApi:e.userApi}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),u=i(o),a=i(n(227));function i(e){return e&&e.__esModule?e:{default:e}}n(256);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"layout"},this._getSidebar(),u.default.createElement("div",{className:"main layout__column"},u.default.createElement("div",{className:"main__content"},this.props.children)))}},{key:"_getSidebar",value:function(){return this.props.userApi.isAuth()?u.default.createElement(a.default,{userApi:this.props.userApi}):null}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=v(n(1)),u=n(12),a=v(n(228)),i=v(n(223)),l=v(n(222)),s=v(n(221)),c=v(n(220)),f=v(n(217)),p=v(n(216)),d=v(n(213)),h=v(n(211)),y=v(n(207)),b=v(n(206)),_=v(n(205));function v(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(t,n){return o.default.createElement(i.default,r({},n,{userApi:e.api.user,component:t}))};return o.default.createElement(a.default,{userApi:e.api.user},o.default.createElement(u.Switch,null,o.default.createElement(u.Route,{path:"/products/:id/total/",component:function(n){return t(o.default.createElement(c.default,r({productCalculator:e.services.productCalculator,serviceParser:e.services.parser},n)),n)}}),o.default.createElement(u.Route,{path:"/products/:id",component:function(n){return t(o.default.createElement(s.default,r({productApi:e.api.product,ingredientApi:e.api.ingredient,serviceParser:e.services.parser},n)),n)}}),o.default.createElement(u.Route,{path:"/products/",component:function(n){return t(o.default.createElement(f.default,r({productApi:e.api.product},n)),n)}}),o.default.createElement(u.Route,{path:"/tables/:id",component:function(n){return t(o.default.createElement(p.default,r({},n,{ingredientsGroupApi:e.api.ingredientsGroup,ingredientApi:e.api.ingredient})),n)}}),o.default.createElement(u.Route,{path:"/tables/",component:function(n){return t(o.default.createElement(d.default,r({},n,{ingredientsGroupApi:e.api.ingredientsGroup,ingredientApi:e.api.ingredient,serviceParser:e.services.parser})),n)}}),o.default.createElement(u.Route,{path:"/login/",component:function(t){return function(t){return e.api.user.isAuth()?o.default.createElement(u.Redirect,{to:"/"}):t}(o.default.createElement(h.default,r({userApi:e.api.user},t)))}}),o.default.createElement(u.Route,{path:"/menus/:id",component:function(n){return t(o.default.createElement(y.default,r({menuApi:e.api.menu,productApi:e.api.product},n)),n)}}),o.default.createElement(u.Route,{path:"/menus/",component:function(n){return t(o.default.createElement(b.default,r({menuApi:e.api.menu},n)),n)}}),o.default.createElement(u.Route,{path:"/",exact:!0,component:function(e){return t(o.default.createElement(l.default,e),e)}}),o.default.createElement(u.Route,{component:function(e){return t(o.default.createElement(_.default,e),e)}})))}},,,,,,,,,,,,function(e,t,n){"use strict";var r=i(n(1)),o=i(n(95)),u=n(12);n(295),n(290),n(282),n(276),n(269);var a=i(n(229));function i(e){return e&&e.__esModule?e:{default:e}}var l=new(i(n(204)).default);o.default.render(r.default.createElement(function(e){return r.default.createElement(u.BrowserRouter,null,r.default.createElement(a.default,e))},{api:l.api,services:l.services}),document.getElementById("root"))},,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,,,,function(e,t){},,,,,,,function(e,t){},,,,,,function(e,t){},,,,,,,,function(e,t){},,,,,function(e,t){}]);